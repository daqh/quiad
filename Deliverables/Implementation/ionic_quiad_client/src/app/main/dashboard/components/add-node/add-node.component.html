<ion-header>
  <ion-toolbar>
    <ion-title>Aggiungi nodo</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-item [lines]="firstnameError ? 'none' : 'full'">
    <ion-label position="floating">Nome</ion-label>
    <ion-input (change)="validateFirstname()" [(ngModel)]="node.firstname" name="firstname" id="firstname" placeholder="Nome del nodo"></ion-input>
  </ion-item>
  <ion-item *ngIf="firstnameError">
    <ion-text color="danger" id="firstnameError">{{ firstnameError }}</ion-text>
  </ion-item>

  <ion-item [lines]="lastnameError ? 'none' : 'full'">
    <ion-label position="floating">Cognome</ion-label>
    <ion-input (change)="validateLastname()" [(ngModel)]="node.lastname" name="lastname" id="lastname" placeholder="Cognome del nodo"></ion-input>
  </ion-item>
  <ion-item *ngIf="lastnameError">
    <ion-text color="danger" id="lastnameError">{{ lastnameError }}</ion-text>
  </ion-item>

  <ion-item lines="none">
    <ion-label position="floating">Luogo di nascita</ion-label>
    <ion-input [(ngModel)]="node.birthplace" name="birthplace" id="birthplace" placeholder="Luogo di nascita del nodo"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Luogo di morte</ion-label>
    <ion-input [(ngModel)]="node.deathplace" name="deathplace" id="deathplace"  placeholder="Luogo di morte del nodo"></ion-input>
  </ion-item>

  <ion-item lines="none">
    <ion-label position="floating">Data di nascita</ion-label>
    <ion-input type="date" [(ngModel)]="node.birthdate" name="birthdate" id="birthdate" placeholder="Data di nascita del nodo"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Data di morte</ion-label>
    <ion-input type="date" [(ngModel)]="node.deathdate" name="deathdate" id="deathdate" placeholder="Data di morte del nodo"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Sesso</ion-label>
    <ion-select [(ngModel)]="node.sex" name="sex" id="sex" [disabled]="disableSex">
      <ion-select-option value="MALE">M</ion-select-option>
      <ion-select-option value="FEMALE">F</ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item *ngIf="relation?.motherId">
    <ion-label>Madre: {{ parent?.firstname }} {{ parent?.lastname }}</ion-label>
  </ion-item>

  <ion-item *ngIf="relation?.fatherId" disabled>
    <ion-label>Padre: {{ parent?.firstname }} {{ parent?.lastname }}</ion-label>
  </ion-item>

  <ion-item lines="none">
    <ion-text color="danger" *ngIf="error">{{error}}</ion-text>
  </ion-item>

</ion-content>

<ion-footer>
  <ion-button id="add-node" expand="block" (click)="onSubmit()">
    <ion-icon name="add" slot="start"></ion-icon>
    Aggiungi nodo
  </ion-button>
</ion-footer>
